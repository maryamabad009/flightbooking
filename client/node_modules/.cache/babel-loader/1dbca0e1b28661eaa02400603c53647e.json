{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Dell\\\\Downloads\\\\Flight-Reservation-System (final)\\\\client\\\\src\\\\components\\\\Dashboard\\\\components\\\\ShowPassengers.js\",\n    _s = $RefreshSig$();\n\nimport { Modal, Button } from \"react-bootstrap\";\nimport { useState, useEffect } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction AddFlightBtn(props) {\n  _s();\n\n  const [show, setShow] = useState(false);\n\n  const handleClose = () => setShow(false);\n\n  const handleShow = () => setShow(true);\n\n  const [passengers, setPassengers] = useState([]);\n  useEffect(() => {\n    fetch(\"http://localhost:3001/getallpassengers\").then(res => res.json()).then(data => {\n      setPassengers(data);\n    });\n  }, [passengers]);\n\n  const handleCancel = (id, flightNo) => {\n    fetch(\"http://localhost:3001/cancelflight\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        id: id,\n        flightNo: flightNo\n      })\n    });\n    alert(\"Passenger flight cancelled\");\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Button, {\n      variant: \"success\",\n      className: \"mt-1 w-75\",\n      onClick: handleShow,\n      children: \"Passengers\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      show: show,\n      onHide: handleClose,\n      children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n        closeButton: true,\n        children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n          children: \"Passengers\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n        children: passengers.filter(passenger => passenger.flightNo === props.id).map(passenger => {\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row bg-white\",\n            children: [/*#__PURE__*/_jsxDEV(\"text\", {\n              children: [\"Name : \", /*#__PURE__*/_jsxDEV(\"b\", {\n                children: [passenger.name]\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 53,\n                columnNumber: 32\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 53,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n              children: [\"Age : \", [passenger.age]]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 54,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n              children: [\"Country : \", [passenger.country]]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 55,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n              children: [\"Occupation : \", [passenger.occupation]]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 56,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n              children: [\" Seat No : \", [passenger.seatNo]]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n              children: [\"Seat type : \", [passenger.seatType]]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n              children: [\"National ID : \", [passenger.nationalID]]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n              children: [\"Flight No : \", [passenger.flightNo]]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n              children: props.id\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-danger btn-sm w-25 mb-5\",\n              onClick: () => handleCancel(passenger._id, passenger.flightNo),\n              children: \"Cancel Flight\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 17\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"secondary\",\n          onClick: handleClose,\n          children: \"Close\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_s(AddFlightBtn, \"BBbShWQnrv/XT/9AVZW4/+tI/Dw=\");\n\n_c = AddFlightBtn;\nexport default AddFlightBtn;\n\nvar _c;\n\n$RefreshReg$(_c, \"AddFlightBtn\");","map":{"version":3,"names":["Modal","Button","useState","useEffect","AddFlightBtn","props","show","setShow","handleClose","handleShow","passengers","setPassengers","fetch","then","res","json","data","handleCancel","id","flightNo","method","headers","body","JSON","stringify","alert","filter","passenger","map","name","age","country","occupation","seatNo","seatType","nationalID","_id"],"sources":["C:/Users/Dell/Downloads/Flight-Reservation-System (final)/client/src/components/Dashboard/components/ShowPassengers.js"],"sourcesContent":["import { Modal, Button } from \"react-bootstrap\";\nimport { useState, useEffect } from \"react\";\n\n\n\nfunction AddFlightBtn(props) {\n  const [show, setShow] = useState(false);\n  const handleClose = () => setShow(false);\n  const handleShow = () => setShow(true);\n\n  const [passengers, setPassengers] = useState([]);\n\n  useEffect(() => {\n    fetch(\"http://localhost:3001/getallpassengers\")\n      .then((res) => res.json())\n      .then((data) => {\n        setPassengers(data);\n      });\n  }, [passengers]);\n\n  const handleCancel = (id,flightNo) => {\n    fetch(\"http://localhost:3001/cancelflight\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        id: id,\n        flightNo: flightNo\n      }),\n    });\n    alert(\"Passenger flight cancelled\")\n  }\n\n\n\n  \n  return (\n    <>\n      <Button variant=\"success\" className=\"mt-1 w-75\" onClick={handleShow}>\n        Passengers\n      </Button>\n\n      <Modal show={show} onHide={handleClose}>\n        <Modal.Header closeButton>\n          <Modal.Title>Passengers</Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n           {\n            passengers.filter(passenger => passenger.flightNo === props.id ).map((passenger) => {\n              return (\n                <div className=\"row bg-white\">\n                  <text>Name : <b>{[passenger.name]}</b></text>\n                  <text>Age : {[passenger.age]}</text>\n                  <text>Country : {[passenger.country]}</text>\n                  <text>Occupation : {[passenger.occupation]}</text>\n                  <text> Seat No : {[passenger.seatNo]}</text>\n                  <text>Seat type : {[passenger.seatType]}</text>\n                  <text>National ID : {[passenger.nationalID]}</text>\n                  <text>Flight No : {[passenger.flightNo]}</text>\n                  <text>{props.id}</text>\n                  <button className=\"btn btn-danger btn-sm w-25 mb-5\" onClick={() => handleCancel(passenger._id,passenger.flightNo)}>Cancel Flight</button>\n\n                  \n                  <hr/>\n                </div>\n              );\n            }\n        )}\n           \n        </Modal.Body>\n        <Modal.Footer>\n          <Button variant=\"secondary\" onClick={handleClose}>\n            Close\n          </Button>\n          \n        </Modal.Footer>\n      </Modal>\n    </>\n  );\n}\n\nexport default AddFlightBtn;"],"mappings":"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"},"metadata":{},"sourceType":"module"}